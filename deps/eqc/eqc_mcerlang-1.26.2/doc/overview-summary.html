<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>McErlang integration for Quviq QuickCheck</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<h1>McErlang integration for Quviq QuickCheck</h1>
<p>Copyright © Quviq AB, 2010.  
</p>
<p>McErlang is a model checker for Erlang. It can be used to analyze
a large sub-set of existing Erlang code, exposing hard to find
concurrency defects. McErlang itself is an open source project,
currently being developed inside the <a HREF="http://www.protest-project.eu"> ProTest </a> research
project. This package contains a few modules necessary for checking an
interesting class of concurrency (QuickCheck) properties with
McErlang, and this package should be used in parallel with the <A HREF="https://babel.ls.fi.upm.es/trac/McErlang/">McErlang
application</A>.</p>

<h2>Model Checking</h2>

<p><P>With a model checker the goal is to exhaustively investigate the
possible interleavings of a concurrent system. This is in contrast to
a normal QuickCheck test, where one interleaving (steered by the
Erlang scheduler) is tested, and in contrast to a PULSE test, where a
totally random interleaving (steered by the PULSE scheduler) is
tested.</P></p>

<p><P>However, there are several potential problems with the
exhaustiveness, mainly that for a concurrent system the number of
possible interleavings quickly become very many. Nevertheless, for the
right classes of systems it should be an effective tool.</P></p>

<h2>McErlang</h2> 

<p><P>In order to use McErlang, one needs to use its special compiler, in
order to prepare the code to be run the special purpouse run-time
system provided. McErlang can be obtained from the <A HREF="https://babel.ls.fi.upm.es/trac/McErlang/">McErlang-wiki</A>.</P></p>

<h2>QuickCheck -&gt; PULSE -&gt; McErlang</h2> 

<p><P> The normal usage that we envision is that one first try properties
in a normal QuickCheck way, especially when it comes to state machine
properties/specifications. Thereafter, one should try to parallelize
the command sequence by using eqc_statem:run_parallel_commands. Having
fixed all defects exposed at this stage one could take the testing
effort further by also running the tests under PULSE, and finally for
especially critical pieces of software it is now possible to also run
it through the McErlang model checker.</P></p>

<h2>Using McErlang from within QuickCheck</h2>

<p> When used with QuickCheck, the macro <tt>?MCERLANG</tt> is
recommended. It is defined in the file <tt>"eqc_mcerlang.hrl"</tt>. This macro has the same basic form as the
<tt>?FORALL</tt> macro, i.e., <tt>?MCERLANG(InstrumentedModules,
Result,Generator,Property)</tt> where the generator is a function that
is evaluated with a certain schedule, and <tt>Result</tt> is the
result of the function and this can be used in the property. The
<tt>InstrumentedModules</tt> is a safety mechanism. It is very easy to
forget to McErlang-compile a module, which gives very strange results,
therefore it is possible to specify which modules should be
instrumented, and it is checked before running the property. </p>

<pre>
-include_lib("eqc_mcerlang/include/eqc_mcerlang.hrl").

prop_helloworld() -&gt;
    ?MCERLANG([hello],
              Res,
              hello:helloworld(), 
              Res == [hello,world]).
</pre>

<p>A longer introduction to the QuickCheck-McErlang integration can be
found at <A HREF="https://babel.ls.fi.upm.es/trac/McErlang/">McErlang
webpage</A>, there is also a <A HREF="https://babel.ls.fi.upm.es/trac/McErlang/raw-attachment/wiki/QuickCheck/McErlang/QC-McEtutorial.pdf">
detailed tutorial</A> available. </p>


<hr>
<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Jun 20 2012, 10:22:56.</i></p>
</body>
</html>
